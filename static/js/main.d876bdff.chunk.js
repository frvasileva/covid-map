(this["webpackJsonpcovid-map"]=this["webpackJsonpcovid-map"]||[]).push([[0],{114:function(e,t,c){},119:function(e,t,c){"use strict";c.r(t);var r=c(6),a=c(0),i=c.n(a),n=c(11),o=c.n(n),s=(c(94),c(56)),l=c.n(s),d=c(20),j=c(69),p=c(7),u=(c(96),c(70)),h=c.n(u),m=c(164),b=c(170),v=c(171),O=c(162),f=c(163);var g=function(e){var t=e.element;return Object(r.jsx)(O.a,{position:[t.geometry.coordinates[1],t.geometry.coordinates[0]],children:Object(r.jsxs)(f.a,{className:"popup-covid-info",children:[Object(r.jsx)("img",{src:t.properties.countryInfo.flag,className:"popup-country-flag"}),t.properties.country," ",Object(r.jsx)("br",{}),Object(r.jsxs)("ul",{className:"covid-info-list",children:[Object(r.jsxs)("li",{className:"item-info",children:[Object(r.jsx)("span",{children:"Active:"}),Object(r.jsx)("strong",{children:t.properties.active.toLocaleString()})]}),Object(r.jsxs)("li",{className:"item-info",children:[Object(r.jsx)("span",{children:"Critical:"}),Object(r.jsx)("strong",{children:t.properties.critical.toLocaleString()})]}),Object(r.jsxs)("li",{className:"item-info",children:[Object(r.jsx)("span",{children:"Today cases:"}),Object(r.jsx)("strong",{children:t.properties.todayCases.toLocaleString()})]})]})]},"popup"+(t.geometry.coordinates[1],t.geometry.coordinates[0]))},"key"+(t.geometry.coordinates[1],t.geometry.coordinates[0]))};c(114);var x=function(e){var t=e.covidData,c=Object(a.useState)(e.mapCenter),i=Object(p.a)(c,1)[0];return t?Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("div",{className:"wrapper",children:Object(r.jsxs)(m.a,{center:i,zoom:7,scrollWheelZoom:!0,className:"map-wrapper",children:[Object(r.jsx)(b.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.features.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a,{center:[e.geometry.coordinates[1],e.geometry.coordinates[0]],radius:e.properties.activePerOneMillion,metric:!0,fillOpacity:.5,fillColor:"red",stroke:!1},(e.geometry.coordinates[1],e.geometry.coordinates[0])),Object(r.jsx)(g,{element:e})]})}))]})})})})}):Object(r.jsx)("div",{})},y=c(71);var N=function(e){var t=e.covidData;console.log("data",t);var c=t.features.map((function(e,t){return{id:t,flag:"<img src='"+e.properties.countryInfo.flag+"'/>",country:e.properties.country,continent:e.properties.continent,active:e.properties.active,todayCases:e.properties.todayCases,cases:e.properties.cases,critical:e.properties.critical}}));return console.log("rowsData ",c),Object(r.jsxs)("div",{style:{height:600,width:"100%"},children:[Object(r.jsx)("h2",{children:"Info by country:"}),Object(r.jsx)(y.a,{rows:c,columns:[{field:"country",headerName:"Country",width:150},{field:"continent",headerName:"Continent",width:150},{field:"active",headerName:"Active",width:150},{field:"todayCases",headerName:"Today cases",width:150},{field:"cases",headerName:"Cases",width:150},{field:"critical",headerName:"Critical",width:150}],autoPageSize:!0,checkboxSelection:!1})]})};var w=function(){var e,t=Object(a.useState)(null),c=Object(p.a)(t,2),i=c[0],n=c[1],o=Object(a.useState)([43,25]),s=Object(p.a)(o,2),u=s[0];function m(){return(m=Object(j.a)(l.a.mark((function t(){var c,r=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.length>0&&void 0!==r[0]?r[0]:{},c.leafletElement,t.prev=1,t.next=4,h.a.get("https://corona.lmao.ninja/v2/countries").then((function(t){var c=t.data,r=void 0===c?[]:c;Array.isArray(r)&&r.length>0&&(e={type:"FeatureCollection",features:r.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.countryInfo,c=void 0===t?{}:t,r=c.lat,a=c.long;return{type:"Feature",properties:Object(d.a)({},e),geometry:{type:"Point",coordinates:[a,r]}}}))},n(e))}));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),console.log("Failed to fetch countries: ".concat(t.t0.message),t.t0),t.abrupt("return");case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}return s[1],Object(a.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),i?Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("h1",{className:"app-title",children:"Covid information by countries"})})}),Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col-12",children:[Object(r.jsx)(x,{covidData:i,mapCenter:u}),Object(r.jsx)("br",{}),Object(r.jsx)(N,{covidData:i})]})})]})}):Object(r.jsx)("div",{children:"Loading..."})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,172)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,n=t.getTTFB;c(e),r(e),a(e),i(e),n(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root")),C()},94:function(e,t,c){},96:function(e,t,c){}},[[119,1,2]]]);
//# sourceMappingURL=main.d876bdff.chunk.js.map