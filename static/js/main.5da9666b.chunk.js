(this["webpackJsonpcovid-map"]=this["webpackJsonpcovid-map"]||[]).push([[0],{42:function(e,t,r){},44:function(e,t,r){},62:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var c=r(2),n=r(0),i=r.n(n),a=r(18),o=r.n(a),s=(r(42),r(22)),l=r.n(s),j=r(9),d=r(31),p=r(13),h=(r(44),r(32)),b=r.n(h),u=r(89),O=r(92),g=r(96),m=r(87),x=r(90),f=r(91),v=r(88);r(62);var y=function(e){var t=e.covidData;return t.features.sort((function(e,t){return e.properties.continent>t.properties.continent?1:-1})),t.features.sort((function(e,t){return"Europe"!=e.properties.continent?1:-1})),Object(c.jsxs)("div",{className:"table-wrapper",children:[Object(c.jsx)("h2",{children:"Info by country:"}),Object(c.jsx)(m.a,{component:v.a,children:Object(c.jsxs)(u.a,{className:"info-table","aria-label":"simple table",children:[Object(c.jsx)(x.a,{children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:"Country"}),Object(c.jsx)(g.a,{align:"right",children:"\u0422oday Cases"}),Object(c.jsx)(g.a,{align:"right",children:"Active(per milion)"}),Object(c.jsx)(g.a,{align:"right",children:"Critical"}),Object(c.jsx)(g.a,{align:"right",children:"Death"}),Object(c.jsx)(g.a,{align:"right",children:"Tests"})]})}),Object(c.jsx)(O.a,{children:t.features.map((function(t){return Object(c.jsxs)(f.a,{onClick:function(){return r=t.geometry.coordinates[1],c=t.geometry.coordinates[0],void e.handleRowSelected([r,c]);var r,c},children:[Object(c.jsxs)(g.a,{component:"th",scope:"row",children:[Object(c.jsx)("img",{src:t.properties.countryInfo.flag,className:"country-flag"}),Object(c.jsx)("strong",{children:t.properties.country}),"/",t.properties.continent]},t.properties.country),Object(c.jsx)(g.a,{align:"right",children:t.properties.todayCases.toLocaleString()}),Object(c.jsxs)(g.a,{align:"right",children:[t.properties.active.toLocaleString(),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:"Per million: "}),t.properties.activePerOneMillion.toLocaleString()]}),Object(c.jsx)(g.a,{align:"right",children:t.properties.cases.toLocaleString()}),Object(c.jsxs)(g.a,{align:"right",children:[t.properties.critical.toLocaleString(),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:"Per million: "}),t.properties.criticalPerOneMillion.toLocaleString()]}),Object(c.jsx)(g.a,{align:"right",children:t.properties.deaths.toLocaleString()})]},t.properties.country)}))})]})})]})},N=r(95),S=r(97),C=r(98),w=r(93),L=r(94);var P=function(e){var t=e.element;return Object(c.jsx)(w.a,{position:[t.geometry.coordinates[1],t.geometry.coordinates[0]],children:Object(c.jsxs)(L.a,{className:"popup-covid-info",children:[Object(c.jsx)("img",{src:t.properties.countryInfo.flag,className:"popup-country-flag"}),t.properties.country," ",Object(c.jsx)("br",{}),Object(c.jsxs)("ul",{className:"covid-info-list",children:[Object(c.jsxs)("li",{className:"item-info",children:[Object(c.jsx)("span",{children:"Active:"}),Object(c.jsx)("strong",{children:t.properties.active.toLocaleString()})]}),Object(c.jsxs)("li",{className:"item-info",children:[Object(c.jsx)("span",{children:"Critical:"}),Object(c.jsx)("strong",{children:t.properties.critical.toLocaleString()})]}),Object(c.jsxs)("li",{className:"item-info",children:[Object(c.jsx)("span",{children:"Today cases:"}),Object(c.jsx)("strong",{children:t.properties.todayCases.toLocaleString()})]})]})]},"popup"+(t.geometry.coordinates[1],t.geometry.coordinates[0]))},"key"+(t.geometry.coordinates[1],t.geometry.coordinates[0]))};r(67);var k=function(e){var t=e.covidData,r=Object(n.useState)(e.mapCenter),i=Object(p.a)(r,1)[0];return t?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsxs)(N.a,{center:i,zoom:7,scrollWheelZoom:!0,className:"map-wrapper",children:[Object(c.jsx)(S.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.features.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(C.a,{center:[e.geometry.coordinates[1],e.geometry.coordinates[0]],radius:e.properties.activePerOneMillion,metric:!0,fillOpacity:.5,fillColor:"red",stroke:!1},(e.geometry.coordinates[1],e.geometry.coordinates[0])),Object(c.jsx)(P,{element:e})]})}))]})})})})}):Object(c.jsx)("div",{})};var F=function(){var e,t=Object(n.useState)(null),r=Object(p.a)(t,2),i=r[0],a=r[1],o=Object(n.useState)([43,25]),s=Object(p.a)(o,2),h=s[0],u=s[1];function O(){return(O=Object(d.a)(l.a.mark((function t(){var r,c=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},r.leafletElement,t.prev=1,t.next=4,b.a.get("https://corona.lmao.ninja/v2/countries").then((function(t){var r=t.data,c=void 0===r?[]:r;Array.isArray(c)&&c.length>0&&(e={type:"FeatureCollection",features:c.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.countryInfo,r=void 0===t?{}:t,c=r.lat,n=r.long;return{type:"Feature",properties:Object(j.a)({},e),geometry:{type:"Point",coordinates:[n,c]}}}))},a(e))}));case 4:t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),console.log("Failed to fetch countries: ".concat(t.t0.message),t.t0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),i?Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h1",{className:"app-title",children:"Covid information"})})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)(k,{covidData:i,mapCenter:h}),Object(c.jsx)(y,{covidData:i,handleRowSelected:function(e){u(e)}})]})})]})}):Object(c.jsx)("div",{children:"Loading..."})},D=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,99)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),c(e),n(e),i(e),a(e)}))};o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),D()}},[[68,1,2]]]);
//# sourceMappingURL=main.5da9666b.chunk.js.map